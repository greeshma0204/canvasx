{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\P.GREESHMA\\\\canvasx\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport Header from \"./components/header\";\nimport Sidebar from \"./components/sidebar\";\nimport Canvas from \"./components/canvas\";\nimport \"./styles/canvasx.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  const [blocks, setBlocks] = useState([]);\n  const [loaded, setLoaded] = useState(false);\n\n  /*  LOAD PROJECT (MongoDB → fallback localStorage) */\n  useEffect(() => {\n    const loadProject = async () => {\n      try {\n        const res = await fetch(\"http://localhost:5000/load\");\n        const data = await res.json();\n        if (Array.isArray(data) && data.length > 0) {\n          setBlocks(data);\n          localStorage.setItem(\"canvasx_blocks\", JSON.stringify(data));\n        } else {\n          const saved = localStorage.getItem(\"canvasx_blocks\");\n          if (saved) setBlocks(JSON.parse(saved));\n        }\n      } catch (err) {\n        console.warn(\"Backend not reachable, using localStorage\");\n        const saved = localStorage.getItem(\"canvasx_blocks\");\n        if (saved) setBlocks(JSON.parse(saved));\n      }\n      setLoaded(true);\n    };\n    loadProject();\n  }, []);\n\n  /*  AUTOSAVE (Local + MongoDB) */\n  useEffect(() => {\n    if (!loaded) return;\n\n    // Local autosave\n    localStorage.setItem(\"canvasx_blocks\", JSON.stringify(blocks));\n\n    // Backend autosave\n    fetch(\"http://localhost:5000/save\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        blocks\n      })\n    }).catch(() => console.warn(\"Backend save failed, saved locally\"));\n  }, [blocks, loaded]);\n\n  /* EXPORT (Styled HTML, outer border )*/\n  const exportProject = () => {\n    if (!Array.isArray(blocks) || blocks.length === 0) {\n      alert(\"Nothing to export\");\n      return;\n    }\n    const htmlSections = blocks.map(block => `\n          <p class=\"content-text\">${block.content}</p>\n        `).join(\"\");\n    const fullHTML = `\n<!DOCTYPE html>\n<html>\n<head>\n<meta charset=\"UTF-8\">\n<title>CanvasX Export</title>\n\n<style>\n  body {\n    margin: 0;\n    padding: 0;\n    background-color: #0f0f0f;\n    font-family: \"Segoe UI\", Arial, sans-serif;\n    color: #f2f2f2;\n  }\n\n  .outer-wrapper {\n    max-width: 900px;\n    margin: 60px auto;\n    padding: 50px;\n    border: 2px solid #d4af37;\n    border-radius: 14px;\n    background-color: #151515;\n  }\n\n  .content-text {\n    font-size: 22px;\n    line-height: 1.7;\n    margin-bottom: 28px;\n    color: #f5f5f5;\n  }\n</style>\n</head>\n\n<body>\n  <div class=\"outer-wrapper\">\n    ${htmlSections}\n  </div>\n</body>\n</html>\n`;\n    const blob = new Blob([fullHTML], {\n      type: \"text/html\"\n    });\n    const link = document.createElement(\"a\");\n    link.href = URL.createObjectURL(blob);\n    link.download = \"canvasx-export.html\";\n    link.click();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      onExport: exportProject\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"builder\",\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Canvas, {\n        blocks: blocks,\n        setBlocks: setBlocks\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"PVbtA5zBbU4FDkwFloU1HRl2Xi8=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useEffect","useState","Header","Sidebar","Canvas","jsxDEV","_jsxDEV","App","_s","blocks","setBlocks","loaded","setLoaded","loadProject","res","fetch","data","json","Array","isArray","length","localStorage","setItem","JSON","stringify","saved","getItem","parse","err","console","warn","method","headers","body","catch","exportProject","alert","htmlSections","map","block","content","join","fullHTML","blob","Blob","type","link","document","createElement","href","URL","createObjectURL","download","click","className","children","onExport","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/P.GREESHMA/canvasx/src/App.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport Header from \"./components/header\";\nimport Sidebar from \"./components/sidebar\";\nimport Canvas from \"./components/canvas\";\nimport \"./styles/canvasx.css\";\n\nexport default function App() {\n  const [blocks, setBlocks] = useState([]);\n  const [loaded, setLoaded] = useState(false);\n\n  /*  LOAD PROJECT (MongoDB → fallback localStorage) */\n  useEffect(() => {\n    const loadProject = async () => {\n      try {\n        const res = await fetch(\"http://localhost:5000/load\");\n        const data = await res.json();\n\n        if (Array.isArray(data) && data.length > 0) {\n          setBlocks(data);\n          localStorage.setItem(\"canvasx_blocks\", JSON.stringify(data));\n        } else {\n          const saved = localStorage.getItem(\"canvasx_blocks\");\n          if (saved) setBlocks(JSON.parse(saved));\n        }\n      } catch (err) {\n        console.warn(\"Backend not reachable, using localStorage\");\n        const saved = localStorage.getItem(\"canvasx_blocks\");\n        if (saved) setBlocks(JSON.parse(saved));\n      }\n\n      setLoaded(true);\n    };\n\n    loadProject();\n  }, []);\n\n  /*  AUTOSAVE (Local + MongoDB) */\n  useEffect(() => {\n    if (!loaded) return;\n\n    // Local autosave\n    localStorage.setItem(\"canvasx_blocks\", JSON.stringify(blocks));\n\n    // Backend autosave\n    fetch(\"http://localhost:5000/save\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ blocks }),\n    }).catch(() =>\n      console.warn(\"Backend save failed, saved locally\")\n    );\n  }, [blocks, loaded]);\n\n  /* EXPORT (Styled HTML, outer border )*/\n  const exportProject = () => {\n    if (!Array.isArray(blocks) || blocks.length === 0) {\n      alert(\"Nothing to export\");\n      return;\n    }\n\n    const htmlSections = blocks\n      .map(\n        (block) => `\n          <p class=\"content-text\">${block.content}</p>\n        `\n      )\n      .join(\"\");\n\n    const fullHTML = `\n<!DOCTYPE html>\n<html>\n<head>\n<meta charset=\"UTF-8\">\n<title>CanvasX Export</title>\n\n<style>\n  body {\n    margin: 0;\n    padding: 0;\n    background-color: #0f0f0f;\n    font-family: \"Segoe UI\", Arial, sans-serif;\n    color: #f2f2f2;\n  }\n\n  .outer-wrapper {\n    max-width: 900px;\n    margin: 60px auto;\n    padding: 50px;\n    border: 2px solid #d4af37;\n    border-radius: 14px;\n    background-color: #151515;\n  }\n\n  .content-text {\n    font-size: 22px;\n    line-height: 1.7;\n    margin-bottom: 28px;\n    color: #f5f5f5;\n  }\n</style>\n</head>\n\n<body>\n  <div class=\"outer-wrapper\">\n    ${htmlSections}\n  </div>\n</body>\n</html>\n`;\n\n    const blob = new Blob([fullHTML], { type: \"text/html\" });\n    const link = document.createElement(\"a\");\n    link.href = URL.createObjectURL(blob);\n    link.download = \"canvasx-export.html\";\n    link.click();\n  };\n\n  return (\n    <div className=\"app\">\n      <Header onExport={exportProject} />\n      <div className=\"builder\">\n        <Sidebar />\n        <Canvas blocks={blocks} setBlocks={setBlocks} />\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}